package tritium;

message Script {
	optional string name [default='main'] 0;
	optional Instruction root 1;
	optional bool has_imports 2;
}

message Instruction {
	optional string name 1;
	repeated Instruction children 2;
	repeated Instruction arguments 3;
	enum Type 4 {
		BLOCK = 0;
		INVOCATION = 1;
		IMPORT = 2;
		STRING = 3;
		REGEXP = 4;
	}
	optional int32 line_number 5;
	optional string filename 6;
}